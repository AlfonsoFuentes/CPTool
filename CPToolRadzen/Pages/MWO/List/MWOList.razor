@page "/mwos"

@using CPTool.Application.Features.MWOFeatures.CreateEdit;
@inherits TableTemplate<EditMWO>
@if (debug)
{

}
<TableTemplate T="EditMWO"
               TableName="MWOs List"
               @bind-SelectedItem=@SelectedItem
                @bind-GlobalElements="@RadzenTables.MWOs"
               ShowDialog="ShowMWODialog"
             >
    <ToolBarButtons>
        <ButtonTemplate Icon="agriculture"
                        Disabled=@DisableEdit
                        Click=GoToMWOItemList
                        ToolTip="Items for MWO">

        </ButtonTemplate>
        <ButtonTemplate Icon="currency_exchange"
                        Disabled=@DisableEdit
                        Click=GoToPurchaseOrderList
                        ToolTip="Purchase Orders">

        </ButtonTemplate>
        <ButtonTemplate Icon="add_task"
                        Disabled=@DisableEdit
                        Click=CreateTaskMWO
                        ToolTip="Create Task">

        </ButtonTemplate>
        <ButtonTemplate Icon="follow_the_signs"
                        Disabled=@DisableEdit
                        Click=GoToUserRequirmentPage
                        ToolTip="User Requirements">

        </ButtonTemplate>
        <ButtonTemplate Icon="electrical_services"
                        Disabled=@DisableEdit
                        Click=GoToUserSignalList
                        ToolTip="Signals">

        </ButtonTemplate>
        <ButtonTemplate Icon="loop"
                        Disabled=@DisableEdit
                        Click=GoToControlLoopList
                        ToolTip="Control Loops">

        </ButtonTemplate>

    </ToolBarButtons>
    <Columns>
        <RadzenDataGridColumn TItem="EditMWO" Property="@nameof(EditMWO.Name)" Title="Name" TextAlign="TextAlign.Left">
        </RadzenDataGridColumn>
        <RadzenDataGridColumn TItem="EditMWO" Property="@nameof(EditMWO.CECName)" Title="CEC Name" TextAlign="TextAlign.Left">
        </RadzenDataGridColumn>
        <RadzenDataGridColumn TItem="EditMWO" Property="@nameof(EditMWO.Budget)" Title="Budget, USD" Filterable=false Sortable=false>
            <Template Context="detail">

                @String.Format(new System.Globalization.CultureInfo("en-US"), "{0:C}", detail.Budget)
            </Template>
        </RadzenDataGridColumn>
        <RadzenDataGridColumn TItem="EditMWO" Property="@nameof(EditMWO.Expenses)" Title="Expenses, USD" Filterable=false Sortable=false>
            <Template Context="detail">
                @String.Format(new System.Globalization.CultureInfo("en-US"), "{0:C}", detail.Expenses)
            </Template>
        </RadzenDataGridColumn>
        <RadzenDataGridColumn TItem="EditMWO" Property="@nameof(EditMWO.Assigned)" Title="Assigned, USD" Filterable=false Sortable=false>
            <Template Context="detail">
                @String.Format(new System.Globalization.CultureInfo("en-US"), "{0:C}", detail.Assigned)
            </Template>
        </RadzenDataGridColumn>
        <RadzenDataGridColumn TItem="EditMWO" Property="@nameof(EditMWO.Actual)" Title="Actual, USD" Filterable=false Sortable=false>
            <Template Context="detail">
                @String.Format(new System.Globalization.CultureInfo("en-US"), "{0:C}", detail.Actual)
            </Template>
        </RadzenDataGridColumn>
        <RadzenDataGridColumn TItem="EditMWO" Property="@nameof(EditMWO.Commitment)" Title="Commitment, USD" Filterable=false Sortable=false>
            <Template Context="detail">
                @String.Format(new System.Globalization.CultureInfo("en-US"), "{0:C}", detail.Commitment)
            </Template>
        </RadzenDataGridColumn>
        <RadzenDataGridColumn TItem="EditMWO" Property="@nameof(EditMWO.Pending)" Title="Pending, USD" Filterable=false Sortable=false>
            <Template Context="detail">
                @String.Format(new System.Globalization.CultureInfo("en-US"), "{0:C}", detail.Pending)
            </Template>
        </RadzenDataGridColumn>
    </Columns>
</TableTemplate>

@code {
    bool debug = true;
}