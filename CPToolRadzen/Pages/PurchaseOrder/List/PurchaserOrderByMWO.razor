@page "/purchase-order/{ParentId:int}"
@using CPTool.Application.Features.PurchaseOrderFeatures.CreateEdit;

@inherits TableTemplate<EditPurchaseOrder>

<TableTemplate T="EditPurchaseOrder"
               TableName=@($"Purchase Order By {Parent.Name}")
               Filter="@(x => x.MWOId == ParentId)"
               @bind-SelectedItem=@SelectedItem
               ShowDelete=false
               ShowDialog="ShowTableDialog"
               @bind-GlobalElements="@RadzenTables.PurchaseOrders">
    <ToolBarButtons>

        <ButtonTemplate Icon="currency_exchange"
                        Disabled=@DisableEdit
                        Click=AddDownPayment
                        ToolTip="DownPayment">

        </ButtonTemplate>
        <ButtonTemplate Icon="restore"
                        Disabled=@DisableEdit
                        Click=CreateTaskMWO
                        ToolTip="Create Task">

        </ButtonTemplate>


    </ToolBarButtons>

    <Columns>
        <RadzenDataGridColumn TItem="EditPurchaseOrder" Property="@nameof(EditPurchaseOrder.Name)" Title="Name" TextAlign="TextAlign.Left" Width="300px" Filterable=true Sortable=true>
        </RadzenDataGridColumn>
        <RadzenDataGridColumn TItem="EditPurchaseOrder" Property="@nameof(EditPurchaseOrder.PurchaseRequisition)" Title="PR#" TextAlign="TextAlign.Left" Filterable=true Sortable=true>
        </RadzenDataGridColumn>
        <RadzenDataGridColumn TItem="EditPurchaseOrder" Property="@nameof(EditPurchaseOrder.PONumber)" Title="PO#" TextAlign="TextAlign.Left" Filterable=true Sortable=true>
        </RadzenDataGridColumn>
        <RadzenDataGridColumn TItem="EditPurchaseOrder" Property="@nameof(EditPurchaseOrder.PurchaseOrderApprovalStatusName)" Title="Status" Filterable=true Sortable=true>

        </RadzenDataGridColumn>
        <RadzenDataGridColumn TItem="EditPurchaseOrder" Property="@nameof(EditPurchaseOrder.SupplierName)" Title="Supplier" Filterable=true Sortable=true>

        </RadzenDataGridColumn>
        <RadzenDataGridColumn TItem="EditPurchaseOrder" Property="@nameof(EditPurchaseOrder.PrizeCurrencyValue)" Title="PO Value" Filterable=false Sortable=false>

        </RadzenDataGridColumn>
        <RadzenDataGridColumn TItem="EditPurchaseOrder" Property="@nameof(EditPurchaseOrder.PrizeUSDValue)" Title="PO Value, USD" Filterable=false Sortable=false>

        </RadzenDataGridColumn>

    </Columns>
</TableTemplate>

@code {

}
