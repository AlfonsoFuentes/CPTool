@page "/purchase-orders"

@using CPTool.Application.Features.PurchaseOrderFeatures.CreateEdit;


@inherits BaseTableTemplate<EditPurchaseOrder>
<TableTemplate T="EditPurchaseOrder"
               TableName=@($"{TableName} List")
               Elements="@Elements"
               ShowDelete=false
               @bind-SelectedItem=@Selected
               ShowDialog="ShowDialog"
               @bind-GlobalElements="@RadzenTables.PurchaseOrders">
    <ToolBarButtons>

        <ButtonTemplate Icon="currency_exchange"
                        Disabled=@DisableEdit
                        Click=AddDownPayment
                        ToolTip="DownPayment">

        </ButtonTemplate>
       


    </ToolBarButtons>
    <Columns>
        <RadzenDataGridColumn TItem="EditPurchaseOrder" Property="@nameof(EditPurchaseOrder.Name)" Title="Name" TextAlign="TextAlign.Left" Width="300px">
        </RadzenDataGridColumn>
        <RadzenDataGridColumn TItem="EditPurchaseOrder" Property="@nameof(EditPurchaseOrder.PurchaseRequisition)" Title="PR#" TextAlign="TextAlign.Left">
        </RadzenDataGridColumn>
        <RadzenDataGridColumn TItem="EditPurchaseOrder" Property="@nameof(EditPurchaseOrder.PurchaseOrderStatus)" Title="Status" Filterable=false Sortable=false>
            <Template Context="detail">
                @detail.PurchaseOrderStatus.ToString()

            </Template>
        </RadzenDataGridColumn>
        <RadzenDataGridColumn TItem="EditPurchaseOrder" Property="@nameof(EditPurchaseOrder.pSupplier.Name)" Title="Supplier" Filterable=false Sortable=false>

        </RadzenDataGridColumn>
        <RadzenDataGridColumn TItem="EditPurchaseOrder" Property="@nameof(EditPurchaseOrder.PrizeCurrency)" Title="PO Value" Filterable=false Sortable=false>
            <Template Context="detail">
                @String.Format(new System.Globalization.CultureInfo("en-US"), "{0:C}", detail.PrizeCurrency)
            </Template>
        </RadzenDataGridColumn>
        <RadzenDataGridColumn TItem="EditPurchaseOrder" Property="@nameof(EditPurchaseOrder.PrizeUSD)" Title="PO Value, USD" Filterable=false Sortable=false>
            <Template Context="detail">
                @String.Format(new System.Globalization.CultureInfo("en-US"), "{0:C}", detail.PrizeUSD)
            </Template>
        </RadzenDataGridColumn>
    </Columns>
</TableTemplate>
@code {

}

