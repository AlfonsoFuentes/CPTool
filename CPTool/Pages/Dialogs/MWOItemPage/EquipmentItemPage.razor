@inherits CancellableComponent
@implements IDisposable
@*
<MudGrid>
    <MudItem xs="12" sm="6">
        <ComponentAutoComplete Label="Equipment Type"
                               TDTO="EquipmentTypeDTO"
                               T="EquipmentType"
                               Validation="@(new Func<string, string>(ValidateEquipmentType))"
                               TableName="Equipment Type"
                               @bind-ElementsService=@TablesService.EquipmentTypes
                               Elements="@TablesService.EquipmentTypes"
                               @bind-Model="@Model.EquipmentTypeDTO"
                               Required=true
                               ShowDialogOverrided=ToolDialogService.ShowEquipmentType>

        </ComponentAutoComplete>
        <ComponentAutoComplete Label="Sub Equipment Type"
                               TableName="Sub Equipment Type"
                               TDTO="EquipmentTypeSubDTO"
                               T="EquipmentTypeSub"
                               @bind-ElementsService=@TablesService.EquipmentTypeSubs
                               Elements=@Model.EquipmentTypeDTO.EquipmentTypeSubsDTO
                               Validation="@(new Func<string, string>(ValidateEquipmentSubType))"
                               @bind-Model="@Model.EquipmentTypeSubDTO"
                               Disable=@(Model.EquipmentTypeDTO.Id==0?true:false)
                               ShowDialogOverrided=ToolDialogService.ShowEquipmentTypeSub
                               Parent=@Model.EquipmentTypeDTO>

        </ComponentAutoComplete>




        <MudTextField T="string" @bind-Value="Model.TagNumber"
                      Required="true"
                      Immediate="true"
                      Label="Tag Number"
                      Margin="Margin.Dense"
                      Variant="Variant.Outlined"
                      RequiredError="Must have Tag Number"></MudTextField>

        <MudTextField T="string" Value="@Model.TagId"
                      Immediate="true"
                      Disabled="true"
                      Margin="Margin.Dense"
                      Variant="Variant.Outlined"
                      Label="Tag"></MudTextField>

    </MudItem>
    <MudItem xs="12" sm="6">

        <ComponentSelect TDTO="BrandDTO"
                         Label="Brand or Service"
                         PostEvent=OnBrandValueChanged
                         Elements=TablesService.Brands
                         @bind-Model=@Model.BrandDTO>


        </ComponentSelect>
        <ComponentSelect TDTO="SupplierDTO"
                         Label="Supplier"
                         Disable="@(Model.BrandDTO.Id==0?true:false)"
                         Elements=@Model.BrandDTO.BrandSuppliersDTO.Select(x=>x.SupplierDTO).ToList()
                         @bind-Model=@Model.SupplierDTO>


        </ComponentSelect>


        <MudTextField T="string" @bind-Value="Model.Model"
                      Immediate="true"
                      Label="Model"
                      Margin="Margin.Dense"
                      Variant="Variant.Outlined"></MudTextField>
        <MudTextField T="string" @bind-Value="Model.Reference"
                      Immediate="true"
                      Label="Reference"
                      Margin="Margin.Dense"
                      Variant="Variant.Outlined"></MudTextField>
        <MudTextField T="string" @bind-Value="Model.SerialNumber"
                      Immediate="true"
                      Label="Serial Number"
                      Margin="Margin.Dense"
                      Variant="Variant.Outlined"></MudTextField>

    </MudItem>
</MudGrid>*@


@code {


}
