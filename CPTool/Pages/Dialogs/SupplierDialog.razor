@inherits CancellableComponent
<MudDialog>
    <DialogContent>
        <MudForm Model="Model" @ref="form" @bind-IsValid="@success" @bind-Errors="@errors">
            <ComponentAutoComplete Label="Brands or Service"
                                   TDTO="BrandDTO"
                                   T="Brand"
                                   Manager=TablesService.ManBrand
                                   ObjectList=TablesService.ManBrand.List
                                   @bind-Model=@Model.BrandDTO
                                   ShowDialogOverrided=@((dto)=>ToolDialogService.ShowBrandDialog(Model))></ComponentAutoComplete>



            <MudTextField @bind-Value="Model.SupplierDTO.Name"
                          Variant="Variant.Outlined"
                          Margin="Margin.Dense"
                          Immediate="true"
                          Label="Supplier Name" />
            <MudTextField @bind-Value="Model.SupplierDTO.VendorCode"
                          InputType="InputType.Email"
                          Variant="Variant.Outlined"
                          Margin="Margin.Dense"
                          Immediate="true"
                          Label="Vendor Code" />
           @* <ComponentAutoComplete Label="Vendor Code"
                                   TDTO="VendorCodeDTO"
                                   T="VendorCode"
                                   Required=true
                                   RequiredError="Must submit unique Vendor Code"
                                   Manager=TablesService.ManVendorCode
                                   ObjectList=TablesService.ManVendorCode.List
                                   @bind-Model=@Model.SupplierDTO.VendorCodeDTO
                                   ></ComponentAutoComplete>*@
           
            <MudTextField @bind-Value="Model.SupplierDTO.ContactPerson"
                          Variant="Variant.Outlined"
                          Margin="Margin.Dense"
                          Immediate="true"
                          Label="Contact person" />
            <MudTextField @bind-Value="Model.SupplierDTO.Email"
                          InputType="InputType.Email"
                          Variant="Variant.Outlined"
                          Margin="Margin.Dense"
                          Immediate="true"
                          Label="email" />
            <MudTextField @bind-Value="Model.SupplierDTO.Phone"
                          InputType="InputType.Telephone"
                          Variant="Variant.Outlined"
                          Margin="Margin.Dense"
                          Immediate="true"
                          Label="Phone" />
            <MudTextField @bind-Value="Model.SupplierDTO.Address"
                          Variant="Variant.Outlined"
                          Margin="Margin.Dense"
                          Immediate="true"
                          Label="Address" />

            @*<ComponentAutoComplete Label="TaxCode LD"
                                   TDTO="TaxCodeLDDTO"
                                   T="TaxCodeLD"
                                   Required=true
                                   RequiredError="Must submit TaxCode LD"
                                   Manager=TablesService.ManTaxCodeLD
                                   ObjectList=TablesService.ManTaxCodeLD.List
                                   @bind-Model=@Model.SupplierDTO.TaxCodeLDDTO></ComponentAutoComplete>
            <ComponentAutoComplete Label="TaxCode LP"
                                   TDTO="TaxCodeLPDTO"
                                   T="TaxCodeLP"
                                   RequiredError="Must submit TaxCode LP"
                                   Manager=TablesService.ManTaxCodeLP
                                   ObjectList=TablesService.ManTaxCodeLP.List
                                   Required=true
                                   @bind-Model=@Model.SupplierDTO.TaxCodeLPDTO></ComponentAutoComplete>*@

            <MudTextField @bind-Value="Model.SupplierDTO.TaxCodeLD"
                          Variant="Variant.Outlined"
                          Margin="Margin.Dense"
                          Immediate="true"
                          Label="TaxCode LD" />
            <MudTextField @bind-Value="Model.SupplierDTO.TaxCodeLP"
                          Variant="Variant.Outlined"
                          Margin="Margin.Dense"
                          Immediate="true"
                          Label="TaxCode LP" />

        </MudForm>
    </DialogContent>
    <DialogActions>
        <MudButton OnClick="Cancel">Cancel</MudButton>
        <MudButton Color="Color.Primary" OnClick="Submit">Save</MudButton>
    </DialogActions>
</MudDialog>

@code {

    public IMask mask1 = new RegexMask(@"^[0-9]\d{0,4}$");
    bool success;
    string[] errors = { };
}
