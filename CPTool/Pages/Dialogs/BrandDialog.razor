@inherits CancellableComponent
@if (viewform)
{


    <MudDialog>
        <DialogContent>
            <MudForm Model="Model" @ref="form" @bind-IsValid="@success" @bind-Errors="@errors">
                <ComponentSelect 
                    TDTO="SupplierDTO"
                             T="Supplier"
                             Label="Supplier Name"
                             Elements=TablesService.ManSupplier.List                            
                             @bind-Model=@Model.SupplierDTO>


                </ComponentSelect>
              

                <MudSelect Dense="true"
                       Margin="Margin.Dense"
                       T="BrandType"
                       Label="Select Type Brand or Service"
                       AnchorOrigin="Origin.BottomCenter"
                       @bind-Value=@Model.BrandDTO.BrandType
                       Validation="@(new Func<BrandType, string>(ValidateBrandType))"
                       Variant="Variant.Outlined">
                    @foreach (var item in Enum.GetValues<BrandType>())
                    {
                        <MudSelectItem Value="item">@item</MudSelectItem>
                    }

                </MudSelect>
                @if (Model.BrandDTO.BrandType != BrandType.None)
                {
                    <MudTextField @bind-Value="Model.BrandDTO.Name"
                          Variant="Variant.Outlined"
                          Margin="Margin.Dense"
                          Immediate="true"
                          Required=true
                          RequiredError=@($"Must Submit {Model.BrandDTO.BrandType.ToString()}")
                          Label=@Model.BrandDTO.BrandType.ToString() />
                }





            </MudForm>
        </DialogContent>
        <DialogActions>
            <MudButton Variant="Variant.Filled" Color="Color.Primary" Class="ml-auto" OnClick="Submit">Save</MudButton>
            <MudButton Variant="Variant.Filled" DisableElevation="true" OnClick="Cancel">Cancel</MudButton>
        </DialogActions>
    </MudDialog>
}
@code {
    bool viewform = true;
    public IMask mask1 = new RegexMask(@"^[0-9]\d{0,4}$");
    bool success;
    string[] errors = { };
}
