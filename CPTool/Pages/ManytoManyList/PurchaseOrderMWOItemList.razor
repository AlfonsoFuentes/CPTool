@using System.Globalization
@inherits CancellableComponent

@implements IDisposable
<PageTitle>@PageTitle</PageTitle>
<MudGrid>

    <MudItem xs="12" sm="@mastersm">
        <ComponentTableList
                            ShowAddButton=false
                            TDTO="PurchaseOrderDTO" T="PurchaseOrder"
                            TableName=@MasterTableName
                            Elements="@Masters"
                            OnShowDialogOverrided="ShowDialogMaster"
                            SelectedItem="@SelectedMaster"
                            OnRowClickEvent="RowMasterClicked">

           
            <ContextTh>
                <MudTh Style="width:40px">#</MudTh>
                <MudTh>Name</MudTh>
                <MudTh>Status</MudTh>
                <MudTh>PR</MudTh>
                <MudTh>PO</MudTh>
                <MudTh>Value</MudTh>
            </ContextTh>
            <ContextTd>
                <MudTd DataLabel="Id">@context.Id</MudTd>
                <MudTd DataLabel="Name">@context.Name</MudTd>
                <MudTd DataLabel="Status">@context.PurchaseOrderStatus.ToString()</MudTd>
                <MudTd DataLabel="PR">@context.PurchaseRequisition</MudTd>
                <MudTd DataLabel="PO">@context.PONumber</MudTd>
                <MudTd DataLabel="Value">@context.PrizeUSD.ToString(_en)</MudTd>
            </ContextTd>
        </ComponentTableList>
    </MudItem>


    <MudItem xs="12" sm="@detailsm">
        <ComponentTableList
                            TDTO="MWOItemDTO"
                            T="MWOItem"
                            DisableAddButton=@(SelectedMaster==null?true:false)
                            TableName=@DetailTableName
                            OnShowDialogOverrided="ShowDialogDetail"
                            Elements="@Details"
                            OnRowClickEvent="RowDetailClicked"
                            SelectedItem="@SelectedDetail">

           
            <ContextTh>
                <MudTh Style="width:40px">#</MudTh>
                <MudTh>Name</MudTh>

            </ContextTh>
            <ContextTd>
                <MudTd DataLabel="Id">@context.Id</MudTd>
                <MudTd DataLabel="Name">@context.Name</MudTd>

            </ContextTd>
        </ComponentTableList>
    </MudItem>

</MudGrid>
@code {
    public CultureInfo _en = CultureInfo.GetCultureInfo("en-US");
}
