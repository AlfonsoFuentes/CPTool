@page "/MWOItemList/{MWOId:int}"
<MudGrid>
    <MudItem xs="12" sm="12">
        <MudPaper Height="32px" Width="100%" Square="true">

            <MudText Align="Align.Center" Typo="Typo.h5">Items for <b>@MWO.Name</b> </MudText>
        </MudPaper>
    </MudItem>
    <MudItem xs="12" sm="12">

        <SimpleListComponent TMaster="EditMWOItem"
                             TDeleteMaster="DeleteMWOItem"
                             OnAdd="AddMWOItem"
                             OnEdit="EditMWOItem"
                             TMasterList="GetMWOItemListQuery" TGedById="GetByIdMWOItemQuery"
                             ElementsMasters="@MWOItems"
                             @bind-SelectedMaster="@MWOItemSelected"
                             OnShowDialogMaster="ToolDialogService.ShowMWOItem">
            <MasterOtherButtons>
                <MudTooltip Text="Create Task">
                    <MudIconButton Icon="@Icons.Filled.AddTask" OnClick="CreateTaskMWOItem" Size="Size.Small" Disabled=@(MWOItemSelected.Id==0?true:false) />
                </MudTooltip>
            </MasterOtherButtons>
            <MasterContextTh>
                <MudTh>#</MudTh>
                <MudTh>Tag</MudTh>
                <MudTh>Name</MudTh>
                <MudTh>Budget, USD</MudTh>
                <MudTh>Assigned, USD</MudTh>
            </MasterContextTh>
            <MasterContextTd>
                <MudTd DataLabel="#">@context.Nomenclatore</MudTd>
                <MudTd DataLabel="Tag">@context.TagId</MudTd>
                <MudTd DataLabel="Name">@context.Name</MudTd>
                <MudTd DataLabel="Budget, USD">@context.BudgetPrize.ToString("C1")</MudTd>
                <MudTd DataLabel="Assigned, USD">@context.Assigned.ToString("C1")</MudTd>
            </MasterContextTd>

            <FooterContent >
                <MudTd></MudTd>
                <MudTd></MudTd>
                <MudTd></MudTd>
                <MudTd style="bold-text">@MWOItems.Sum(x=>x.BudgetPrize).ToString("C1")</MudTd>
                <MudTd style="bold-text">@MWOItems.Sum(x=>x.Assigned).ToString("C1")</MudTd>
            </FooterContent>

        </SimpleListComponent>

    </MudItem>
</MudGrid>




@code {


}
