@using CPTool.Application.Features.NozzleFeatures.CreateEdit
@using CPTool.Application.Features.NozzleFeatures
@using CPTool.Application.Features.NozzleFeatures.Query.GetById
@using CPTool.Application.Features.NozzleFeatures.Query.GetList
@using CPTool.NewPages.Dialogs.Nozzle.List
<MudDialog DisableSidePadding="true">
    <DialogContent>
        <MudContainer Style="max-height: 550px; overflow-y: scroll" Fixed="true" MaxWidth="MaxWidth.Medium">

            <CascadingValue Value="this">


                <MudForm Model="Model" @ref="form">

                    <MudTabs Elevation="2" Rounded="true" ApplyEffectsToContainer="true" PanelClass="pa-6">
                        <MudTabPanel Text="Name">
                            <MudGrid>

                                <MudItem xs="12" sm="6">
                                    <MWOItemChapterComponent></MWOItemChapterComponent>
                                </MudItem>
                                <MudItem xs="12" sm="6">
                                    <MWOItemExpensesComponent></MWOItemExpensesComponent>
                                </MudItem>

                            </MudGrid>
                        </MudTabPanel>
                        <MudTabPanel Text="Specs">
                            @if (Model.ChapterId != 0)
                            {
                                switch (Model.ChapterId)
                                {
                                    case 4:
                                        <MWOItemEquipmentComponent></MWOItemEquipmentComponent>
                                        break;
                                }
                            }

                        </MudTabPanel>
                        <MudTabPanel Text="Materials">
                            @if (Model.ChapterId != 0)
                            {
                                switch (Model.ChapterId)
                                {
                                    case 4:
                                        <MWOItemMaterialsComponent @bind-Gasket="@Model.EquipmentItem.Gasket"
                                                       @bind-InnerMaterial="@Model.EquipmentItem.eInnerMaterial"
                                                       @bind-OuterMaterial=@Model.EquipmentItem.eOuterMaterial></MWOItemMaterialsComponent>
                                        break;
                                }
                            }
                        </MudTabPanel>
                        <MudTabPanel Text="Nozzles">
                            @if (Model.Id!=0&&Model.ChapterId != 0)
                            {
                                switch (Model.ChapterId)
                                {
                                    case 4:
                                        <NozzleList @bind-Nozzles="@Model.EquipmentItem.Nozzles"
                                        UpdateParent="UpdateFormFromChild" Master="@Model.EquipmentItem"></NozzleList>

                                        break;
                                }
                            }
                        </MudTabPanel>
                        <MudTabPanel Text="Process Conditions">
                            @if (Model.Id != 0 && Model.ChapterId != 0)
                            {
                                switch (Model.ChapterId)
                                {
                                    case 4:
                                        <MWOItemProcessConditions @bind-ProcessCondition="@Model.EquipmentItem.ProcessCondition"
                                                      @bind-ProcessFluid=@Model.EquipmentItem.ProcessFluid></MWOItemProcessConditions>

                                        break;
                                }
                            }
                        </MudTabPanel>
                    </MudTabs>
                    <MudGrid>



                    </MudGrid>

                </MudForm>
            </CascadingValue>


        </MudContainer>
    </DialogContent>
    <DialogActions>

        <MudButton Variant="Variant.Filled" Color="Color.Primary" Class="ml-auto" OnClick="Submit">Save</MudButton>

        <MudButton Variant="Variant.Filled" DisableElevation="true" OnClick="Cancel">Cancel</MudButton>
    </DialogActions>
</MudDialog>
@code {

}
