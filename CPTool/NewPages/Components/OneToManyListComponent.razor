@typeparam TMaster

@typeparam TDetail

@typeparam TMasterList
@typeparam TDetailList
@typeparam TDeleteMaster
@typeparam TDeleteDetail
@typeparam TMasterGedById
@typeparam TDetailGedById


@if (ShowAddButton)
{
    <MudGrid>

        <MudItem xs="12" sm="@mastersm">
            <TableComponent T="TMaster" Elements="@ElementsMasters" OnAdd="Add" OnDelete="Delete"
                        OnRowClicked="RowClickedMaster" DisableEditButton=@(SelectedMaster.Id==0?true:false)
                        OnEdit="Edit" SearchFunc=MasterList.FilterFunc @bind-SelectedItem="@SelectedMaster">
                <ContextTh>

                    @if (MasterContextTh != null)
                        @MasterContextTh




                    </ContextTh>
                    <ContextTd>

                        @if (MasterContextTh != null)
                        @MasterContextTd!(context)




                    </ContextTd>
                </TableComponent>
            </MudItem>


            <MudItem xs="12" sm="@detailsm">
                <TableComponent T="TDetail" Elements="@ElementsDetails" DisableAddButton=@(SelectedMaster.Id==0?true:false)
                        OnRowClicked="RowClickedDetail" DisableEditButton=@(SelectedDetail.Id==0?true:false)
                        OnAdd="AddDetail" OnDelete="DeleteDetail" OnEdit="EditDetail" SearchFunc=DetailList.FilterFunc @bind-SelectedItem="@SelectedDetail">
                    <ContextTh>

                        @if (DetailContextTh != null)
                        @DetailContextTh




                    </ContextTh>
                    <ContextTd>

                        @if (DetailContextTh != null)
                        @DetailContextTd!(context)


                    </ContextTd>
                </TableComponent>
            </MudItem>

        </MudGrid>
}

@code {
    public bool ShowAddButton { get; set; } = true;


    int mastersm => 6;
    int detailsm => 6;
}
